<!DOCTYPE html>
<html>
<head>
    <title>Al Extension Bridge Test</title>
</head>
<body>
    <h1>Al Extension Bridge Connection Test</h1>
    <button onclick="testConnection()">Test Bridge Connection</button>
    <div id="result"></div>

    <script>
    async function testConnection() {
        const result = document.getElementById('result');
        result.innerHTML = 'Testing connection...';
        
        try {
            console.log('Testing connection to bridge server...');
            
            const response = await fetch('http://165.22.136.90:8092/status', {
                method: 'GET',
                headers: {
                    'Content-Type': 'application/json'
                }
            });
            
            if (response.ok) {
                const data = await response.json();
                result.innerHTML = `
                    <h2>✅ Connection Successful!</h2>
                    <p>Server: ${data.server}</p>
                    <p>Version: ${data.version}</p>
                    <p>Status: ${data.status}</p>
                    <p>Timestamp: ${data.timestamp}</p>
                `;
            } else {
                result.innerHTML = `<h2>❌ Connection Failed</h2><p>Status: ${response.status} ${response.statusText}</p>`;
            }
        } catch (error) {
            console.error('Connection error:', error);
            result.innerHTML = `
                <h2>❌ Connection Error</h2>
                <p>${error.message}</p>
                <p>This likely means:</p>
                <ul>
                    <li>Bridge server is not accessible from your network</li>
                    <li>CORS policy blocking the request</li>
                    <li>Firewall blocking port 8092</li>
                </ul>
            `;
        }
    }
    </script>
</body>
</html>